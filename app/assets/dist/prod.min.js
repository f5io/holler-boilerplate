!function(e,t){"use strict";var n={configurable:!1,enumerable:!1,writable:!1},i={classList:"classList"in t.documentElement,addEventListener:e.addEventListener,attachEvent:e.attachEvent},r={extend:function(){for(var e=[].slice.call(arguments),t=e[0],n=1,i=e.length;i>n;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t},each:function(e,t,n){for(var i in e)"hasOwnProperty"in e&&!e.hasOwnProperty(i)||t.apply(n||e[i],[e[i],i])},emitter:function(){function e(){var e=[].slice.call(arguments),t=e[0],i=e[1],r=e[2]||s;n[t]=n[t]||[],n[t].push({fn:i,scope:r})}function t(){var e=[].slice.call(arguments),t=e[0],i=e.slice(1);t in n&&r.each(n[t],function(e){e.fn.apply(e.scope,i)})}var n={};return{on:e,emit:t}}(),ajax:function(e){var t=r.extend({url:void 0,dataType:"text",data:"",cache:!0,success:function(){},error:function(){},method:"GET",async:!0},e);if(t.url){"GET"!==t.method||t.cache||(t.data+="_="+(new Date).getTime());var n=new XMLHttpRequest;n.onreadystatechange=function(){var e=n.readyState;if(!(4>e)&&4===e){if(200!==n.status&&0!==n.status)return void t.error.call(this,n.responseText);switch(t.dataType){case"text":case"html":case"script":t.success.call(this,n.responseText);break;case"json":t.success.call(this,JSON.parse(n.responseText));break;case"xml":t.success.call(this,n.responseXML)}}},n.onerror=function(){t.error.call(this,n.responseText)},n.open(t.method,t.url,t.async),"POST"===t.method&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(t.data)}},wrapEvent:function(e){return e.preventDefault?e:(r.extend(e,{preventDefault:function(){e.returnValue=!1}}),e)},ready:function(){return e.addEventListener?function(e){t.addEventListener("DOMContentLoaded",function n(i){t.removeEventListener("DOMContentLoaded",n),e.call(s,i)},!1)}:e.attachEvent?function(e){t.attachEvent("onreadystatechange",function n(i){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",n),e.call(s,i))})}:void 0}(),scrollTop:function(){if("undefined"!=typeof e.pageYOffset)return function(n){if(n&&!isNaN(n)){var i="clientHeight"in t.documentElement?t.documentElement:t.body;i.scrollTop=n}return e.pageYOffset};var n="clientHeight"in t.documentElement?t.documentElement:t.body;return function(e){return e&&!isNaN(e)&&(n.scrollTop=e),n.scrollTop}}(),windowHeight:function(){if("undefined"!=typeof e.innerHeight)return function(){return e.innerHeight};var n="clientHeight"in t.documentElement?t.documentElement:t.body;return function(){return n.clientHeight}}(),windowWidth:function(){if("undefined"!=typeof e.innerWidth)return function(){return e.innerWidth};var n="clientWidth"in t.documentElement?t.documentElement:t.body;return function(){return n.clientWidth}}(),documentHeight:function(){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}};if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var o=Object.defineProperty;Object.defineProperty=function(e,t,n){if(o)try{return o(e,t,n)}catch(i){}Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(e,t,n.set),Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(e,t,n.get),"value"in n&&(e[t]=n.value)}}var c=function(e){return r.extend(this,e),this.length=e.length,this};Object.defineProperty(c.prototype,"each",r.extend(n,{value:function(e){for(var t=0,n=this.length;n>t;t++)e.apply(this[t],[this[t],t]);return this}})),Object.defineProperty(c.prototype,"find",r.extend(n,{value:function(e){var t=[],n=/:last\-child/.test(e);return n&&(e=e.split(":last-child").join("")),this.each(function(){var i=this,o=[],c=n?[i.querySelector(e).parentNode.lastChild]:i.querySelectorAll(e);r.each(c,function(e,t){o[t]=e}),t=t.concat(o)}),new c(t)}})),Object.defineProperty(c.prototype,"bind",r.extend(n,{value:function(){return i.addEventListener?function(e,t){for(var n=e.split(" "),i=function(e){return function(n){n.addEventListener(e,t,!1)}},r=0,o=n.length;o>r;r++)this.each(i(n[r]));return this}:i.attachEvent?function(t,n){for(var i=t.split(" "),o=function(i){return function(o){o["hEvRaw"+t+n]=n,o["hEv"+t+n]=function(t){n.call(o,r.wrapEvent(t||e.event))},o.attachEvent("on"+i,o["hEv"+t+n],!1)}},c=0,s=i.length;s>c;c++)this.each(o(i[c]));return this}:void 0}()})),Object.defineProperty(c.prototype,"unbind",r.extend(n,{value:function(){return i.addEventListener?function(e,t){for(var n=e.split(" "),i=function(e){return function(n){n.removeEventListener(e,t,!1)}},r=0,o=n.length;o>r;r++)this.each(i(n[r]));return this}:i.attachEvent?function(e,t){for(var n=e.split(" "),i=function(n){return function(i){var r=i["hEv"+e+t]||function(){};i.detachEvent("on"+n,r,!1),i["hEvRaw"+e+t]=i["hEv"+e+t]=null}},r=0,o=n.length;o>r;r++)this.each(i(n[r]));return this}:void 0}()})),Object.defineProperty(c.prototype,"addClass",r.extend(n,{value:function(){return i.classList?function(e){return e?(r.each(e.split(" "),function(e){this.each(function(){this.classList.contains(e)||this.classList.add(e)})},this),this):this}:function(e){return e?(r.each(e.split(" "),function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");this.each(function(){this.className.match(t)||(this.className+=" "+e,this.className=this.className.replace(/(^\s*)|(\s*$)/g,""))})},this),this):this}}()})),Object.defineProperty(c.prototype,"removeClass",r.extend(n,{value:function(){return i.classList?function(e){return e?(r.each(e.split(" "),function(e){this.each(function(){this.classList.contains(e)&&this.classList.remove(e)})},this),this):this}:function(e){return e?(r.each(e.split(" "),function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");this.each(function(){this.className=this.className.replace(t," ").replace(/(^\s*)|(\s*$)/g,"")})},this),this):this}}()})),Object.defineProperty(c.prototype,"hasClass",r.extend(n,{value:function(){return i.classList?function(e){return"RegExp"===e.constructor.name?e.test(this[0].className):this[0].classList.contains(e)}:function(e){return"RegExp"===e.constructor.name?e.test(this[0].className):new RegExp("(\\s|^)"+e+"(\\s|$)").test(this[0].className)}}()})),Object.defineProperty(c.prototype,"toggleClass",r.extend(n,{value:function(e){var t=this.hasClass(e)?"removeClass":"addClass";return this[t](e)}})),Object.defineProperty(c.prototype,"attr",r.extend(n,{value:function(e,t){if(t)return this.each(function(){this.setAttribute(e,t)}),this;var n;return this.each(function(){n=this.getAttribute(e)}),n}})),Object.defineProperty(c.prototype,"offset",r.extend(n,{value:function(){return this[0].getBoundingClientRect()||void 0}})),Object.defineProperty(c.prototype,"clone",r.extend(n,{value:function(e){e="undefined"==typeof e?!0:e;var t=[];return this.each(function(){t.push(this.cloneNode(e))}),new c(t)}})),Object.defineProperty(c.prototype,"append",r.extend(n,{value:function(e){var n=e.__proto__===c.prototype?e:[].slice.call(arguments),i=t.createDocumentFragment();return r.each(n,function(e){isNaN(e)&&"nodeType"in e&&1===e.nodeType&&i.appendChild(e.cloneNode(!0))}),this.each(function(){this.appendChild(i)}),this}})),Object.defineProperty(c.prototype,"prepend",r.extend(n,{value:function(e){var n=e.__proto__===c.prototype?e:[].slice.call(arguments),i=t.createDocumentFragment();return r.each(n,function(e){isNaN(e)&&"nodeType"in e&&1===e.nodeType&&i.appendChild(e.cloneNode(!0))}),this.each(function(){this.insertBefore(i,this.childNodes[0])}),this}})),Object.defineProperty(c.prototype,"remove",r.extend(n,{value:function(){return this.each(function(){this.parentNode.removeChild(this)}),this}})),Object.defineProperty(c.prototype,"html",r.extend(n,{value:function(e){var t;return e?this.each(function(){this.innerHTML=e}):t=this[0].innerHTML,t||this}})),Object.defineProperty(c.prototype,"width",r.extend(n,{value:function(t){var n;return this[0]===e?r.windowWidth():(this.each(function(){if("undefined"==typeof e){if(n=parseInt(this.style.width,10),isNaN(n)){var i=this.getBoundingClientRect();n=i.right-i.left}}else this.style.width=t+"px"}),n||this)}})),Object.defineProperty(c.prototype,"height",r.extend(n,{value:function(n){var i;return this[0]===e?r.windowHeight():this[0]===t?r.documentHeight():(this.each(function(){if("undefined"==typeof h){if(i=parseInt(this.style.height,10),isNaN(i)){var e=this.getBoundingClientRect();i=e.bottom-e.top}}else this.style.height=n+"px"}),i||this)}})),Object.defineProperty(c.prototype,"index",r.extend(n,{value:function(){function e(e){if("previousElementSibling"in e)return e.previousElementSibling;for(;e=e.previousSibling;)if(1===e.nodeType)return e;return null}for(var t=this[0],n=0;null!==(t=e(t));)n++;return n}})),Object.defineProperty(c.prototype,"click",r.extend(n,{value:function(){var e=t.createEvent?t.createEvent("MouseEvent"):t.createEventObject();return this.each(function(){return this.click?void this.click():void(t.createEvent?(e.initEvent("click",!0,!0),this.dispatchEvent(e)):this.fireEvent("onclick",e))}),this}}));var s=function(n){if("string"==typeof n){var i=[];return r.each(t.querySelectorAll(n),function(e,t){i[t]=e}),new c(i)}return"nodeType"in n||n===e?new c([n]):void("function"==typeof n&&s.ready(n))};!function(){if(i.addEventListener){var e=function(e,n){var i=t.createEvent("CustomEvent");return i.initCustomEvent(n,!0,!0,e.target),e.target.dispatchEvent(i),i=null,!1},n=!0,r={x:0,y:0},o={x:0,y:0},c={touchstart:function(e){r.x=e.touches[0].pageX,r.y=e.touches[0].pageY},touchmove:function(e){n=!1,o.x=e.touches[0].pageX,o.y=e.touches[0].pageY},touchend:function(t){if(n)e(t,"fastclick"),e(t,"tap");else{var i=o.x-r.x,c=Math.abs(i),s=o.y-r.y,a=Math.abs(s);Math.max(c,a)>20&&(e(t,c>a?0>i?"swipeleft":"swiperight":0>s?"swipeup":"swipedown"),n=!0)}},touchcancel:function(){n=!1}};for(var a in c)s(t).bind(a,c[a])}}(),s.ready=r.ready,s.each=r.each,s.extend=r.extend,s.ajax=r.ajax,s.emitter=r.emitter,s.scrollTop=r.scrollTop,e.$=e.$||s,e.hDOM=s}(window,document),hDOM(function(){hDOM(document.body).addClass("hDOM is the boss man yeh"),hDOM(document.body).removeClass("man yeh");var e=hDOM("ul.list li").clone();hDOM("ul.list").append(e),hDOM.emitter.on("an_event",function(){console.log(arguments)}),hDOM.emitter.emit("an_event","a property",{hello:"world!"})});