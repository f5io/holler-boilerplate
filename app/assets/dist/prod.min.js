!function(t,e){"use strict";var n={configurable:!1,enumerable:!1,writable:!1},i={classList:"classList"in e.documentElement,addEventListener:t.addEventListener,attachEvent:t.attachEvent},r={extend:function(){for(var t=[].slice.call(arguments),e=t[0],n=1,i=t.length;i>n;n++){var r=t[n];for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e},each:function(t,e,n){for(var i in t)"hasOwnProperty"in t&&!t.hasOwnProperty(i)||e.apply(n||t[i],[t[i],i])},emitter:function(){function t(){var t=[].slice.call(arguments),e=t[0],i=t[1],r=t[2]||a;n[e]=n[e]||[],n[e].push({fn:i,scope:r})}function e(){var t=[].slice.call(arguments),e=t[0],i=t.slice(1);e in n&&r.each(n[e],function(t){t.fn.apply(t.scope,i)})}var n={};return{on:t,emit:e}}(),format:function(t,e){return t.toString().replace(/\{([^}]+)\}/g,function(t,n){return e[n]})},ajax:function(t){var e=r.extend({url:void 0,dataType:"text",data:"",cache:!0,success:function(){},error:function(){},method:"GET",async:!0},t);if(e.url){"GET"!==e.method||e.cache||(e.data+="_="+(new Date).getTime());var n=new XMLHttpRequest;n.onreadystatechange=function(){var t=n.readyState;if(!(4>t)&&4===t){if(200!==n.status&&0!==n.status)return void e.error.call(this,n.responseText);switch(e.dataType){case"text":case"html":case"script":e.success.call(this,n.responseText);break;case"json":e.success.call(this,JSON.parse(n.responseText));break;case"xml":e.success.call(this,n.responseXML)}}},n.onerror=function(){e.error.call(this,n.responseText)},n.open(e.method,e.url,e.async),"POST"===e.method&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(e.data)}},wrapEvent:function(t){return t.preventDefault?t:(r.extend(t,{preventDefault:function(){t.returnValue=!1}}),t)},ready:function(){return t.addEventListener?function(t){e.addEventListener("DOMContentLoaded",function n(i){e.removeEventListener("DOMContentLoaded",n),t.call(a,i)},!1)}:t.attachEvent?function(t){e.attachEvent("onreadystatechange",function n(i){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",n),t.call(a,i))})}:void 0}(),scrollTop:function(){if("undefined"!=typeof t.pageYOffset)return function(n){if(n&&!isNaN(n)){var i="clientHeight"in e.documentElement?e.documentElement:e.body;i.scrollTop=n}return t.pageYOffset};var n="clientHeight"in e.documentElement?e.documentElement:e.body;return function(t){return t&&!isNaN(t)&&(n.scrollTop=t),n.scrollTop}}(),windowHeight:function(){if("undefined"!=typeof t.innerHeight)return function(){return t.innerHeight};var n="clientHeight"in e.documentElement?e.documentElement:e.body;return function(){return n.clientHeight}}(),windowWidth:function(){if("undefined"!=typeof t.innerWidth)return function(){return t.innerWidth};var n="clientWidth"in e.documentElement?e.documentElement:e.body;return function(){return n.clientWidth}}(),documentHeight:function(){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))},documentWidth:function(){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}};if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()){var o=Object.defineProperty;Object.defineProperty=function(t,e,n){if(o)try{return o(t,e,n)}catch(i){}Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,e,n.set),Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,e,n.get),"value"in n&&(t[e]=n.value)}}var c=function(t){return r.extend(this,t),this.length=t.length,this};Object.defineProperty(c.prototype,"each",r.extend(n,{value:function(t){for(var e=0,n=this.length;n>e;e++)t.apply(this[e],[this[e],e]);return this}})),Object.defineProperty(c.prototype,"find",r.extend(n,{value:function(t){var e=[],n=/:last\-child/.test(t);return n&&(t=t.split(":last-child").join("")),this.each(function(){var i=this,o=[],c=n?[i.querySelector(t).parentNode.lastChild]:i.querySelectorAll(t);r.each(c,function(t,e){o[e]=t}),e=e.concat(o)}),new c(e)}})),Object.defineProperty(c.prototype,"bind",r.extend(n,{value:function(){return i.addEventListener?function(t,e){for(var n=t.split(" "),i=function(t){return function(n){n.addEventListener(t,e,!1)}},r=0,o=n.length;o>r;r++)this.each(i(n[r]));return this}:i.attachEvent?function(e,n){for(var i=e.split(" "),o=function(i){return function(o){o["hEvRaw"+e+n]=n,o["hEv"+e+n]=function(e){n.call(o,r.wrapEvent(e||t.event))},o.attachEvent("on"+i,o["hEv"+e+n],!1)}},c=0,a=i.length;a>c;c++)this.each(o(i[c]));return this}:void 0}()})),Object.defineProperty(c.prototype,"unbind",r.extend(n,{value:function(){return i.addEventListener?function(t,e){for(var n=t.split(" "),i=function(t){return function(n){n.removeEventListener(t,e,!1)}},r=0,o=n.length;o>r;r++)this.each(i(n[r]));return this}:i.attachEvent?function(t,e){for(var n=t.split(" "),i=function(n){return function(i){var r=i["hEv"+t+e]||function(){};i.detachEvent("on"+n,r,!1),i["hEvRaw"+t+e]=i["hEv"+t+e]=null}},r=0,o=n.length;o>r;r++)this.each(i(n[r]));return this}:void 0}()})),Object.defineProperty(c.prototype,"addClass",r.extend(n,{value:function(){return i.classList?function(t){return t?(r.each(t.split(" "),function(t){this.each(function(){this.classList.contains(t)||this.classList.add(t)})},this),this):this}:function(t){return t?(r.each(t.split(" "),function(t){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");this.each(function(){this.className.match(e)||(this.className+=" "+t,this.className=this.className.replace(/(^\s*)|(\s*$)/g,""))})},this),this):this}}()})),Object.defineProperty(c.prototype,"removeClass",r.extend(n,{value:function(){return i.classList?function(t){return t?(r.each(t.split(" "),function(t){this.each(function(){this.classList.contains(t)&&this.classList.remove(t)})},this),this):this}:function(t){return t?(r.each(t.split(" "),function(t){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");this.each(function(){this.className=this.className.replace(e," ").replace(/(^\s*)|(\s*$)/g,"")})},this),this):this}}()})),Object.defineProperty(c.prototype,"hasClass",r.extend(n,{value:function(){return i.classList?function(t){return"RegExp"===t.constructor.name?t.test(this[0].className):this[0].classList.contains(t)}:function(t){return"RegExp"===t.constructor.name?t.test(this[0].className):new RegExp("(\\s|^)"+t+"(\\s|$)").test(this[0].className)}}()})),Object.defineProperty(c.prototype,"toggleClass",r.extend(n,{value:function(t){var e=this.hasClass(t)?"removeClass":"addClass";return this[e](t)}})),Object.defineProperty(c.prototype,"attr",r.extend(n,{value:function(t,e){if(e)return this.each(function(){this.setAttribute(t,e)}),this;var n;return this.each(function(){n=this.getAttribute(t)}),n}})),Object.defineProperty(c.prototype,"offset",r.extend(n,{value:function(){return this[0].getBoundingClientRect()||void 0}})),Object.defineProperty(c.prototype,"clone",r.extend(n,{value:function(t){t="undefined"==typeof t?!0:t;var e=[];return this.each(function(){e.push(this.cloneNode(t))}),new c(e)}})),Object.defineProperty(c.prototype,"append",r.extend(n,{value:function(t){var n=t.__proto__===c.prototype?t:[].slice.call(arguments),i=e.createDocumentFragment();return r.each(n,function(t){isNaN(t)&&"nodeType"in t&&1===t.nodeType&&i.appendChild(t.cloneNode(!0))}),this.each(function(){this.appendChild(i)}),this}})),Object.defineProperty(c.prototype,"prepend",r.extend(n,{value:function(t){var n=t.__proto__===c.prototype?t:[].slice.call(arguments),i=e.createDocumentFragment();return r.each(n,function(t){isNaN(t)&&"nodeType"in t&&1===t.nodeType&&i.appendChild(t.cloneNode(!0))}),this.each(function(){this.insertBefore(i,this.childNodes[0])}),this}})),Object.defineProperty(c.prototype,"remove",r.extend(n,{value:function(){return this.each(function(){this.parentNode.removeChild(this)}),this}})),Object.defineProperty(c.prototype,"html",r.extend(n,{value:function(t){var e;return t?this.each(function(){this.innerHTML=t}):e=this[0].innerHTML,e||this}})),Object.defineProperty(c.prototype,"width",r.extend(n,{value:function(n){var i;return this[0]===t?r.windowWidth():this[0]===e?r.documentWidth():(this.each(function(){if("undefined"==typeof t){if(i=parseInt(this.style.width,10),isNaN(i)){var e=this.getBoundingClientRect();i=e.right-e.left}}else this.style.width=n+"px"}),i||this)}})),Object.defineProperty(c.prototype,"height",r.extend(n,{value:function(n){var i;return this[0]===t?r.windowHeight():this[0]===e?r.documentHeight():(this.each(function(){if("undefined"==typeof h){if(i=parseInt(this.style.height,10),isNaN(i)){var t=this.getBoundingClientRect();i=t.bottom-t.top}}else this.style.height=n+"px"}),i||this)}})),Object.defineProperty(c.prototype,"index",r.extend(n,{value:function(){function t(t){if("previousElementSibling"in t)return t.previousElementSibling;for(;t=t.previousSibling;)if(1===t.nodeType)return t;return null}for(var e=this[0],n=0;null!==(e=t(e));)n++;return n}})),Object.defineProperty(c.prototype,"click",r.extend(n,{value:function(){var t=e.createEvent?e.createEvent("MouseEvent"):e.createEventObject();return this.each(function(){return this.click?void this.click():void(e.createEvent?(t.initEvent("click",!0,!0),this.dispatchEvent(t)):this.fireEvent("onclick",t))}),this}}));var a=function(n){if("string"==typeof n){var i=[];return r.each(e.querySelectorAll(n),function(t,e){i[e]=t}),new c(i)}return"nodeType"in n||n===t?new c([n]):void("function"==typeof n&&a.ready(n))};!function(){if(i.addEventListener){var t=function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(n,!0,!0,t.target),t.target.dispatchEvent(i),i=null,!1},n=!0,r={x:0,y:0},o={x:0,y:0},c={touchstart:function(t){r.x=t.touches[0].pageX,r.y=t.touches[0].pageY},touchmove:function(t){n=!1,o.x=t.touches[0].pageX,o.y=t.touches[0].pageY},touchend:function(e){if(n)t(e,"fastclick"),t(e,"tap");else{var i=o.x-r.x,c=Math.abs(i),a=o.y-r.y,s=Math.abs(a);Math.max(c,s)>20&&(t(e,c>s?0>i?"swipeleft":"swiperight":0>a?"swipeup":"swipedown"),n=!0)}},touchcancel:function(){n=!1}};for(var s in c)a(e).bind(s,c[s])}}(),a.ready=r.ready,a.each=r.each,a.extend=r.extend,a.format=r.format,a.ajax=r.ajax,a.emitter=r.emitter,a.scrollTop=r.scrollTop,t.$=t.$||a,t.hDOM=a}(window,document),hDOM(function(){hDOM(document.body).addClass("hDOM is the boss man yeh"),hDOM(document.body).removeClass("man yeh");var t=hDOM("ul.list li").clone();hDOM("ul.list").append(t),hDOM.emitter.on("an_event",function(){console.log(arguments)}),hDOM.emitter.emit("an_event","a property",{hello:"world!"})});